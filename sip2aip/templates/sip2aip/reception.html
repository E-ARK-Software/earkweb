{% extends "earkweb/base.html" %}
{% load dictionary_extras %}

{% load staticfiles %}

{% block extra_head %}

    <!-- SIP to AIP javascript -->
    <script type="text/javascript" src="{% static 'sip2aip/js/sip2aip.js' %}"></script>

{% endblock %}

{% block content %}

    {% include "sip2aip/about_module.html" %}

    <p>The following table gives an overview about open SIP to AIP conversion processes. Each package is identified by the package name (column 'Package name') which was provided in the first step of the
    SIP creation process and an internal process identifier (column 'Process ID'). The process identifier is also used as the name of the working directory where information package
    transformations take place (column 'SIP to AIP conversion working directory').</p>

    <table class="table table-striped table-bordered table-condensed">
    <thead>
      <tr>
        <th>Package name</th>
        <th>Process ID</th>
        <th>Working directory</th>
        <th>IP processing status <a href="{% url 'sip2aip:help_processing_status' %}"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"/></a></th>
      </tr>
    </thead>
    <tbody>
        {% for ip in ips %}
            <tr>
                <td><a href="{% url 'sip2aip:ip_detail' ip.pk %}" title='Detail information'>{{ ip.packagename }}</a></td>
                <td>{{ ip.uuid }}</td>
                <td>
                    {% if ip.statusprocess >= 300 %}
                    <a href="{% url 'sip2aip:working_area' 'sip2aip' ip.uuid %}" title='Package in working area'>{{ config_path_work }}/{{ ip.uuid }}</a>
                    {% else %}
                    -
                    {% endif %}
                </td>
                <td>{{ StatusProcess_CHOICES|access:ip.statusprocess }}</td>
            </tr>
        {% endfor %}
    </tbody>
    </table>

    <p>Proceed to the next step by clicking on the corresponding package name (column 'Package name') link which is where transformation tasks can be executed. If the SIP
    is extracted (IP processing status greater or equal 300), the working area of the information package can be accessed by clicking on the working directory link (column 'Working directory').</p>

{% endblock %}
