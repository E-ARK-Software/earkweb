{% extends "earkweb/base.html" %}

{% load staticfiles %}

{% block extra_head %}

    <!-- AIP to DIP javascript -->
    <script type="text/javascript" src="{% static 'search/js/aip2dip.js' %}"></script>

    <script type="text/javascript"
        src="{% static 'search/js/packsel.js' %}">
    </script>
    <link rel="stylesheet" href="{% static "search/css/packsel.css" %}" type="text/css" />  
      
{% endblock %}

{% block content %}

<h1>DIP creation process: {{ dip.name }}</h1>

<form action="{% url 'search:acquire_aips' dip.name %}" method="post">
    {% csrf_token %}
    <p>Selected AIPs:</p>
    <ul>
    {% for aip in dip.aips.all %}
        <li><a href="{% url 'search:aip' dip.name aip.identifier %}">{{ aip.identifier }}</a> {% if aip.source_available %}<span data-toggle="tooltip" title="AIP is accessible" class="glyphicon glyphicon-ok-sign"/>{% else %}<span data-toggle="tooltip" title="AIP is NOT accessible" class="glyphicon glyphicon-question-sign"/>{% endif %}</li>
    {% endfor %}
    </ul>
</form>

<br>

<form action="{% url 'search:attach_aip' dip.name %}" method="post" enctype="multipart/form-data">
    {% csrf_token %}
    {{ uploadFileForm.as_p }}
    <input type="submit" value="Add local AIP" />
</form>

{% endblock %}
